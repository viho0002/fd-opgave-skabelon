---
import PlusIcon from "../icons/plus.svg";
const { answer, question } = Astro.props;
---

<details>
  <summary>
    <span>
      {question}
      <PlusIcon />
    </span>
  </summary>
  <div class="answer">
    {answer}
  </div>
</details>

<style>
  details {
    color: hsl(190 30% 12%);
    border-bottom: 1px solid #dadada;
    max-inline-size: 150ch;
    interpolate-size: allow-keywords;

    &::details-content {
      opacity: 0;
      block-size: 0;
      transition:
        content-visibility 0.5s allow-discrete,
        opacity 0.5s,
        block-size 0.5s,
        rotate 0.5s;
    }

    &[open]::details-content {
      opacity: 1;
      block-size: auto;
    }
    &[open] {
      --r: z 90deg;
    }
  }
  summary {
    font-weight: 700;
    color: #181818;
    text-wrap: revert;
    user-select: none;
    cursor: pointer;

    &::marker,
    &::-webkit-details-marker {
      content: "";
      display: none;
    }

    span {
      border: none;
      text-align: start;
      padding: 0;
      inline-size: 100%;
      padding-block: 1rlh;
      display: flex;
      gap: 1rem;
      justify-content: space-between;
      &:hover {
        background-color: var(--grey);
      }

      svg {
        inline-size: auto;
        height: 1lh;
        flex-shrink: 0;
      }
    }
  }

  .answer {
    color: #595566;

    > * + * {
      margin-top: 1em;
    }

    :last-child {
      padding-block-end: 1rlh;
    }

    .link-block {
      display: block;
    }
  }
</style>
